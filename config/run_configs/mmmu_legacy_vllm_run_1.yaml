# =================================================================
# 只读模板快照（参考 mmmu_local_vlm，legacy_vllm 多模态版本）
# =================================================================
api_version: gage/v1alpha1
kind: RunConfig
metadata:
  name: mmmu_legacy_vllm_run
base_task: custom/mmmu_legacy_vllm
template_version: V1

runtime:
  datasets:
    mmmu_val_local:
      loader: jsonl
      params:
        path: /mnt/aime_data_ssd/user_workspace/zhuwenqiao/hub/cmp/lmms-lab/MMMU/data/mmmu_val_500.jsonl
  backends:
    mmmu_legacy_vllm_backend:
      type: legacy_vllm
      config:
        model_path: /mnt/model/qwen2_5_vl_3b
        tokenizer_path: /mnt/model/qwen2_5_vl_3b
        tensor_parallel_size: 1
        max_tokens: 128
        sampling_params:
          temperature: 0.2
          top_p: 0.2
        async_max_concurrency: 2
  tasks:
    mmmu_val_eval:
      max_samples: 100
  global:
    output_path: ${GAGE_EVAL_SAVE_DIR:-./runs}/mmmu_legacy_vllm_events.jsonl
